{"ast":null,"code":"var _jsxFileName = \"C:\\\\github\\\\FluxosFrontend\\\\src\\\\Pages\\\\Usuarios\\\\ListaTodos\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\"; // Components\n\nimport DarkButton from \"../../../Components/Buttons/ButtonDark\";\nimport PrimaryButton from \"../../../Components/Buttons/PrimaryButton\";\nimport Card from \"../../../Components/Card\";\nimport { ContainerStyle, GroupBtnStyle } from \"../styles\";\nimport AlertaDanger from \"../../../Components/Alerta/AlertaDanger\";\nimport AlertaSuccess from \"../../../Components/Alerta/AlertaSuccess\"; // Services\n\nimport urlBase from \"../../../services/UrlBase\"; // Redux\n\nimport { setIsCarregado } from \"../../../Redux/actions/carregadorActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ListaTodos = () => {\n  _s();\n\n  const isCarregado = useSelector(store => store === null || store === void 0 ? void 0 : store.carregador);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const toEdit = id => {\n    navigate(`/admin/usuarios/${id}`);\n  };\n\n  const [respostaServer, setRespostaServer] = useState({});\n  const [showModalserver, setShowModalserver] = useState(false);\n  const [usuarios, setUsuario] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const buscaTodosUsuarios = async () => {\n      try {\n        const todosUsuarios = await urlBase.get(\"/admin/usuario\");\n        dispatch(setIsCarregado());\n        console.info(todosUsuarios.data);\n        setUsuario(todosUsuarios.data);\n      } catch (error) {\n        setError(error);\n        console.error(error);\n      }\n    };\n\n    buscaTodosUsuarios();\n  }, []);\n\n  const mostrarModalServer = time => {\n    setShowModalserver(true);\n    setTimeout(() => {\n      setShowModalserver(false);\n    }, time);\n  };\n\n  const deleteItemById = async usuario => {\n    let idEncontrado = usuario.id_login;\n    const resposta = await urlBase.delete(`/admin/usuario/${idEncontrado}`);\n    setRespostaServer(resposta.data);\n    mostrarModalServer(2000);\n    const filterUsuarios = usuarios === null || usuarios === void 0 ? void 0 : usuarios.filter( // Eliminar do frontend\n    dado => dado.id_login !== usuario.id_login);\n    setUsuario(filterUsuarios);\n  };\n\n  return /*#__PURE__*/_jsxDEV(ContainerStyle, {\n    children: [isCarregado && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Carregando ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(DarkButton, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/adicionarusuario\",\n          children: \"+ Adicionar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), usuarios === null || usuarios === void 0 ? void 0 : usuarios.map(usuario => /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"./assets/perfil.svg\",\n        alt: \"perfil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: usuario.nome_login\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Administador : \", usuario.isadmin_login ? \"Sim\" : \"Não\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(GroupBtnStyle, {\n        children: [/*#__PURE__*/_jsxDEV(PrimaryButton, {\n          onClick: () => toEdit(usuario.id_login),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./assets/editar.svg\",\n            alt: \"editar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DarkButton, {\n          onClick: () => {\n            deleteItemById(usuario);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./assets/remover.svg\",\n            alt: \"remover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, usuario.id_login, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)), showModalserver && /*#__PURE__*/_jsxDEV(AlertaSuccess, {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: respostaServer === null || respostaServer === void 0 ? void 0 : respostaServer.msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(AlertaDanger, {\n      children: error === null || error === void 0 ? void 0 : error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ListaTodos, \"9GWnoLA0tgNP85WKd0xAXlxIWSk=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = ListaTodos;\nexport default ListaTodos;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListaTodos\");","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","useDispatch","useSelector","DarkButton","PrimaryButton","Card","ContainerStyle","GroupBtnStyle","AlertaDanger","AlertaSuccess","urlBase","setIsCarregado","ListaTodos","isCarregado","store","carregador","dispatch","navigate","toEdit","id","respostaServer","setRespostaServer","showModalserver","setShowModalserver","usuarios","setUsuario","error","setError","buscaTodosUsuarios","todosUsuarios","get","console","info","data","mostrarModalServer","time","setTimeout","deleteItemById","usuario","idEncontrado","id_login","resposta","delete","filterUsuarios","filter","dado","map","nome_login","isadmin_login","msg","message"],"sources":["C:/github/FluxosFrontend/src/Pages/Usuarios/ListaTodos/index.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n// Components\n\nimport DarkButton from \"../../../Components/Buttons/ButtonDark\";\nimport PrimaryButton from \"../../../Components/Buttons/PrimaryButton\";\nimport Card from \"../../../Components/Card\";\nimport { ContainerStyle, GroupBtnStyle } from \"../styles\";\nimport AlertaDanger from \"../../../Components/Alerta/AlertaDanger\";\nimport AlertaSuccess from \"../../../Components/Alerta/AlertaSuccess\";\n// Services\nimport urlBase from \"../../../services/UrlBase\";\n\n// Redux\nimport { setIsCarregado } from \"../../../Redux/actions/carregadorActions\";\nimport { Carregador } from \"../../../Redux/types/carregadorTypes\";\n\n// Types of the Component Main\nimport { RespostaServidor } from \"../../../Types/RespostaServidor\";\nimport { Usuario } from \"../../../Types/UsuariosTipos/Usuario\";\n\nconst ListaTodos: React.FC = () => {\n  const isCarregado = useSelector((store: Carregador) => store?.carregador);\n\n  const dispatch = useDispatch();\n\n  const navigate = useNavigate();\n\n  const toEdit = (id: number | string) => {\n    navigate(`/admin/usuarios/${id}`);\n  };\n\n  const [respostaServer, setRespostaServer] = useState<RespostaServidor>({});\n  const [showModalserver, setShowModalserver] = useState<boolean>(false);\n\n  const [usuarios, setUsuario] = useState<Usuario[]>([]);\n  const [error, setError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    const buscaTodosUsuarios = async () => {\n      try {\n        const todosUsuarios = await urlBase.get(\"/admin/usuario\");\n        dispatch(setIsCarregado());\n        console.info(todosUsuarios.data);\n        setUsuario(todosUsuarios.data);\n      } catch (error) {\n        setError(error as Error);\n        console.error(error);\n      }\n    };\n    buscaTodosUsuarios();\n  }, []);\n\n  const mostrarModalServer = (time: number) => {\n    setShowModalserver(true);\n    setTimeout(() => {\n      setShowModalserver(false);\n    }, time);\n  };\n\n  const deleteItemById = async (usuario: Usuario) => {\n    let idEncontrado = usuario.id_login;\n    const resposta = await urlBase.delete(`/admin/usuario/${idEncontrado}`);\n    setRespostaServer(resposta.data);\n    mostrarModalServer(2000);\n\n    const filterUsuarios: any = usuarios?.filter(\n      // Eliminar do frontend\n      (dado: Usuario) => dado.id_login !== usuario.id_login\n    );\n    setUsuario(filterUsuarios);\n  };\n\n  return (\n    <ContainerStyle>\n      {isCarregado && <p>Carregando ...</p>}\n      <div>\n        <DarkButton>\n          <Link to={\"/admin/adicionarusuario\"}>+ Adicionar</Link>\n        </DarkButton>\n      </div>\n\n      {usuarios?.map((usuario: Usuario) => (\n        <Card key={usuario.id_login}>\n            <img  src=\"./assets/perfil.svg\" alt=\"perfil\"></img>\n          <h4>{usuario.nome_login}</h4>\n          <p>Administador : {usuario.isadmin_login ? \"Sim\" : \"Não\"}</p>\n          <GroupBtnStyle>\n            <PrimaryButton onClick={() => toEdit(usuario.id_login as number)}>\n              <img src=\"./assets/editar.svg\" alt=\"editar\"></img>\n            </PrimaryButton>\n            <DarkButton\n              onClick={() => {\n                deleteItemById(usuario);\n              }}\n            >\n              <img src=\"./assets/remover.svg\" alt=\"remover\"></img>\n            </DarkButton>\n          </GroupBtnStyle>\n        </Card>\n      ))}\n      {showModalserver && (\n        <AlertaSuccess>\n          <h3>{respostaServer?.msg}</h3>\n        </AlertaSuccess>\n      )}\n\n      {error && <AlertaDanger>{error?.message}</AlertaDanger>}\n    </ContainerStyle>\n  );\n};\nexport default ListaTodos;\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,kBAAlC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CAEA;;AAEA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,aAAP,MAA0B,2CAA1B;AACA,OAAOC,IAAP,MAAiB,0BAAjB;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,WAA9C;AACA,OAAOC,YAAP,MAAyB,yCAAzB;AACA,OAAOC,aAAP,MAA0B,0CAA1B,C,CACA;;AACA,OAAOC,OAAP,MAAoB,2BAApB,C,CAEA;;AACA,SAASC,cAAT,QAA+B,0CAA/B;;;AAOA,MAAMC,UAAoB,GAAG,MAAM;EAAA;;EACjC,MAAMC,WAAW,GAAGX,WAAW,CAAEY,KAAD,IAAuBA,KAAvB,aAAuBA,KAAvB,uBAAuBA,KAAK,CAAEC,UAA/B,CAA/B;EAEA,MAAMC,QAAQ,GAAGf,WAAW,EAA5B;EAEA,MAAMgB,QAAQ,GAAGjB,WAAW,EAA5B;;EAEA,MAAMkB,MAAM,GAAIC,EAAD,IAAyB;IACtCF,QAAQ,CAAE,mBAAkBE,EAAG,EAAvB,CAAR;EACD,CAFD;;EAIA,MAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCvB,QAAQ,CAAmB,EAAnB,CAApD;EACA,MAAM,CAACwB,eAAD,EAAkBC,kBAAlB,IAAwCzB,QAAQ,CAAU,KAAV,CAAtD;EAEA,MAAM,CAAC0B,QAAD,EAAWC,UAAX,IAAyB3B,QAAQ,CAAY,EAAZ,CAAvC;EACA,MAAM,CAAC4B,KAAD,EAAQC,QAAR,IAAoB7B,QAAQ,CAAe,IAAf,CAAlC;EAEAD,SAAS,CAAC,MAAM;IACd,MAAM+B,kBAAkB,GAAG,YAAY;MACrC,IAAI;QACF,MAAMC,aAAa,GAAG,MAAMnB,OAAO,CAACoB,GAAR,CAAY,gBAAZ,CAA5B;QACAd,QAAQ,CAACL,cAAc,EAAf,CAAR;QACAoB,OAAO,CAACC,IAAR,CAAaH,aAAa,CAACI,IAA3B;QACAR,UAAU,CAACI,aAAa,CAACI,IAAf,CAAV;MACD,CALD,CAKE,OAAOP,KAAP,EAAc;QACdC,QAAQ,CAACD,KAAD,CAAR;QACAK,OAAO,CAACL,KAAR,CAAcA,KAAd;MACD;IACF,CAVD;;IAWAE,kBAAkB;EACnB,CAbQ,EAaN,EAbM,CAAT;;EAeA,MAAMM,kBAAkB,GAAIC,IAAD,IAAkB;IAC3CZ,kBAAkB,CAAC,IAAD,CAAlB;IACAa,UAAU,CAAC,MAAM;MACfb,kBAAkB,CAAC,KAAD,CAAlB;IACD,CAFS,EAEPY,IAFO,CAAV;EAGD,CALD;;EAOA,MAAME,cAAc,GAAG,MAAOC,OAAP,IAA4B;IACjD,IAAIC,YAAY,GAAGD,OAAO,CAACE,QAA3B;IACA,MAAMC,QAAQ,GAAG,MAAM/B,OAAO,CAACgC,MAAR,CAAgB,kBAAiBH,YAAa,EAA9C,CAAvB;IACAlB,iBAAiB,CAACoB,QAAQ,CAACR,IAAV,CAAjB;IACAC,kBAAkB,CAAC,IAAD,CAAlB;IAEA,MAAMS,cAAmB,GAAGnB,QAAH,aAAGA,QAAH,uBAAGA,QAAQ,CAAEoB,MAAV,EAC1B;IACCC,IAAD,IAAmBA,IAAI,CAACL,QAAL,KAAkBF,OAAO,CAACE,QAFnB,CAA5B;IAIAf,UAAU,CAACkB,cAAD,CAAV;EACD,CAXD;;EAaA,oBACE,QAAC,cAAD;IAAA,WACG9B,WAAW,iBAAI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADlB,eAEE;MAAA,uBACE,QAAC,UAAD;QAAA,uBACE,QAAC,IAAD;UAAM,EAAE,EAAE,yBAAV;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAFF,EAQGW,QARH,aAQGA,QARH,uBAQGA,QAAQ,CAAEsB,GAAV,CAAeR,OAAD,iBACb,QAAC,IAAD;MAAA,wBACI;QAAM,GAAG,EAAC,qBAAV;QAAgC,GAAG,EAAC;MAApC;QAAA;QAAA;QAAA;MAAA,QADJ,eAEE;QAAA,UAAKA,OAAO,CAACS;MAAb;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAA,8BAAmBT,OAAO,CAACU,aAAR,GAAwB,KAAxB,GAAgC,KAAnD;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF,eAIE,QAAC,aAAD;QAAA,wBACE,QAAC,aAAD;UAAe,OAAO,EAAE,MAAM9B,MAAM,CAACoB,OAAO,CAACE,QAAT,CAApC;UAAA,uBACE;YAAK,GAAG,EAAC,qBAAT;YAA+B,GAAG,EAAC;UAAnC;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAIE,QAAC,UAAD;UACE,OAAO,EAAE,MAAM;YACbH,cAAc,CAACC,OAAD,CAAd;UACD,CAHH;UAAA,uBAKE;YAAK,GAAG,EAAC,sBAAT;YAAgC,GAAG,EAAC;UAApC;YAAA;YAAA;YAAA;UAAA;QALF;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA,GAAWA,OAAO,CAACE,QAAnB;MAAA;MAAA;MAAA;IAAA,QADD,CARH,EA2BGlB,eAAe,iBACd,QAAC,aAAD;MAAA,uBACE;QAAA,UAAKF,cAAL,aAAKA,cAAL,uBAAKA,cAAc,CAAE6B;MAArB;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QA5BJ,EAiCGvB,KAAK,iBAAI,QAAC,YAAD;MAAA,UAAeA,KAAf,aAAeA,KAAf,uBAAeA,KAAK,CAAEwB;IAAtB;MAAA;MAAA;MAAA;IAAA,QAjCZ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAqCD,CAzFD;;GAAMtC,U;UACgBV,W,EAEHD,W,EAEAD,W;;;KALbY,U;AA0FN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}